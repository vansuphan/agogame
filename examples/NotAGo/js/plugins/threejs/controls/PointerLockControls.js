THREE.PointerLockControls=function(t,e){var o=this;this.domElement=e||document.body,this.isLocked=!1,t.rotation.set(0,0,0);var n=new THREE.Object3D;n.add(t);var i=new THREE.Object3D;i.position.y=10,i.add(n);var c,r,s=Math.PI/2;function m(t){if(!1!==o.isLocked){var e=t.movementX||t.mozMovementX||t.webkitMovementX||0,c=t.movementY||t.mozMovementY||t.webkitMovementY||0;i.rotation.y-=.002*e,n.rotation.x-=.002*c,n.rotation.x=Math.max(-s,Math.min(s,n.rotation.x))}}function E(){document.pointerLockElement===o.domElement?(o.dispatchEvent({type:"lock"}),o.isLocked=!0):(o.dispatchEvent({type:"unlock"}),o.isLocked=!1)}function d(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){document.addEventListener("mousemove",m,!1),document.addEventListener("pointerlockchange",E,!1),document.addEventListener("pointerlockerror",d,!1)},this.disconnect=function(){document.removeEventListener("mousemove",m,!1),document.removeEventListener("pointerlockchange",E,!1),document.removeEventListener("pointerlockerror",d,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return i},this.getDirection=(c=new THREE.Vector3(0,0,-1),r=new THREE.Euler(0,0,0,"YXZ"),function(t){return r.set(n.rotation.x,i.rotation.y,0),t.copy(c).applyEuler(r),t}),this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){document.exitPointerLock()},this.connect()},THREE.PointerLockControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.PointerLockControls.prototype.constructor=THREE.PointerLockControls;