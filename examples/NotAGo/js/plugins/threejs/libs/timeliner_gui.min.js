!function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return o(n||e)},c,c.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){"object"==typeof t&&(t.exports=function(e){var t=[];this.do=function(e){t.push(e)},this.undo=function(e){t.splice(t.indexOf(e),1)},this.fire=function(){for(var n=0;n<t.length;n++)t[n].apply(e,arguments)}})},{}],2:[function(e,t,n){t.exports={name:"timeliner_gui",version:"0.0.2",description:"Timeliner GUI",main:"timeliner.js",scripts:{build:"browserify src/*.js --full-path=false -o timeliner_gui.js",mini:"browserify src/*.js -g uglifyify --full-path=false -o timeliner_gui.min.js",watch:"watchify src/*.js -o timeliner_gui.js -v",start:"npm run watch",test:'echo "Error: no tests :(" && exit 1'},repository:{type:"git",url:"https://github.com/tschw/timeliner_gui.git"},keywords:["timeline","animation","keyframe","controls","gui"],author:"tschw (the fork)",contributors:["Joshua 'zz85' Koo (original author)"],license:"MIT",bugs:{url:"https://github.com/tschw/timeliner_gui/issues"},homepage:"https://github.com/tschw/timeliner_gui",devDependencies:{"do.js":"^1.0.0",uglifyify:"^2.6.0"}}},{}],3:[function(e,t,n){t.exports=function(){var e={};this.on=function(t,n){t in e||(e[t]=[]),e[t].push(n)},this.fire=function(t){var n=Array.prototype.slice.call(arguments);n.shift();var i=e[t];if(i)for(var o=0;o<i.length;o++){var a=i[o];a.apply(a,n)}}}},{}],4:[function(e,t,n){var i=e("./layout_constants"),o=e("./layer_view"),a=e("./widget/icon_button"),r=e("./utils").style,s=(e("./theme"),e("./utils").STORAGE_PREFIX,e("./widget/number"));t.exports=function(e){function t(){C.fire("update.scale",6*Math.pow(100,m.value))}function n(){var t=e.controller.getChannelNames(),n=e.currentTime;v.setValue(n),y.setValue(e.totalTime),v.paint(),y.paint();for(var i=b.length;i-- >0;)i>=t.length?(b[i].dom.style.display="none",T.push(b.pop())):(b[i].setState(t[i]),b[i].repaint(n))}var l=document.createElement("div"),d=document.createElement("div");d.style.cssText="margin: 0px; top: 0; left: 0; height: "+i.MARKER_TRACK_HEIGHT+"px";var c=document.createElement("div");r(c,{position:"absolute",top:i.MARKER_TRACK_HEIGHT+"px",left:0,right:0,bottom:0,overflow:"hidden"}),l.appendChild(c);var u={width:"22px",height:"22px",padding:"2px"},h={width:"32px",padding:"3px 4px 3px 4px"},C=e.dispatcher,p=(e.controller,new a(16,"play","Play",C));r(p.dom,u,{marginTop:"2px"}),p.onClick(function(e){e.preventDefault(),C.fire("controls.toggle_play")});var f=new a(16,"stop","Stop",C);r(f.dom,u,{marginTop:"2px"}),f.onClick(function(e){C.fire("controls.stop")});var m=document.createElement("input");m.type="range",m.value=0,m.min=-1,m.max=1,m.step=.125,r(m,{width:"80px",margin:"0px",marginLeft:"2px",marginRight:"2px"});var L=0;m.addEventListener("mousedown",function(){L=1}),m.addEventListener("mouseup",function(){L=0,t()}),m.addEventListener("mousemove",function(){L&&t()}),l.appendChild(d);var g={min:0,step:.125},v=new s(g),y=new s(g);v.onChange.do(function(e,t){C.fire("time.update",e),v.paint()}),y.onChange.do(function(e,t){C.fire("totalTime.update",e),y.paint()}),d.appendChild(v.dom),d.appendChild(document.createTextNode("/")),d.appendChild(y.dom),d.appendChild(p.dom),d.appendChild(f.dom),d.appendChild(m);var w=document.createElement("div");r(w,{marginTop:"4px"}),d.appendChild(w);var x=new a(16,"download_alt","Download animation",C);r(x.dom,h),w.appendChild(x.dom),x.onClick(function(){C.fire("export")});var E=new a(16,"upload_alt","Upload animation",C);r(E.dom,h),w.appendChild(E.dom),E.onClick(function(){C.fire("openfile")});var b=[],T=[];this.layers=b,this.setControlStatus=function(e){e?(p.setIcon("pause"),p.setTip("Pause")):(p.setIcon("play"),p.setTip("Play"))},this.updateState=function(){var t,n,i=e.controller.getChannelNames();for(t=0;t<i.length;t++){var a;n=i[t],b[t]||(T.length?(a=T.pop()).dom.style.display="block":(a=new o(e,n),c.appendChild(a.dom)),b.push(a)),b[t].setState(n)}},this.repaint=n,this.updateState(),this.scrollTo=function(e){c.scrollTop=e*(c.scrollHeight-c.clientHeight)},this.dom=l,n()}},{"./layer_view":5,"./layout_constants":6,"./theme":7,"./utils":11,"./widget/icon_button":13,"./widget/number":14}],5:[function(e,t,n){var i=e("./theme"),o=e("./layout_constants"),a=e("./utils");t.exports=function(e,t){var n=document.createElement("div"),r=document.createElement("span");r.style.cssText="font-size: 12px; padding: 4px;";var s=o.LINE_HEIGHT-1,l=document.createElement("button");l.innerHTML="&#9672;",l.style.cssText="background: none; font-size: 12px; padding: 0px; font-family: monospace; float: right; width: 20px; height: "+s+"px; border-style:none; outline: none;",l.addEventListener("click",function(n){e.dispatcher.fire("keyframe",t)}),n.appendChild(r),n.appendChild(l),n.style.cssText="margin: 0px; border-bottom:1px solid "+i.b+"; top: 0; left: 0; height: "+s+"px; line-height: "+s+"px; color: "+i.c,this.dom=n;var d=function(n){if(l.style.color=i.b,null!=n&&!e.draggingKeyframe&&null!=t){var o=e.controller.getChannelKeyTimes(t);a.binarySearch(o,n)>=0&&(l.style.color=i.c)}};this.repaint=d,this.setState=function(e){t=e,r.textContent=e,d()}}},{"./layout_constants":6,"./theme":7,"./utils":11}],6:[function(e,t,n){t.exports={LINE_HEIGHT:26,DIAMOND_SIZE:10,MARKER_TRACK_HEIGHT:60,WIDTH:600,HEIGHT:200,LEFT_PANE_WIDTH:250,TIME_SCALE:60}},{}],7:[function(e,t,n){t.exports={a:"#343434",b:"#535353",c:"#b8b8b8",d:"#d6d6d6"}},{}],8:[function(e,t,n){function i(){a=2*(o=p/60),r=8*o}var o,a,r,s=e("./layout_constants"),l=e("./theme"),d=e("./utils"),c=d.proxy_ctx,u=s.LINE_HEIGHT,h=s.DIAMOND_SIZE,C=s.MARKER_TRACK_HEIGHT,p=(s.LEFT_PANE_WIDTH,s.TIME_SCALE),f=0;i(),t.exports=function(e){function t(t,i,o){var a=this,r=!1;this.time=t,this.path=function(e){e.beginPath().moveTo(i,o).lineTo(i+h/2,o+h/2).lineTo(i,o+h).lineTo(i-h/2,o+h/2).closePath()},this.paint=function(e){a.path(e),r?e.fillStyle("yellow"):e.fillStyle(l.c),e.fill().stroke()},this.mouseover=function(){r=!0,_.style.cursor="move",a.paint(A)},this.mouseout=function(){r=!1,_.style.cursor="default",a.paint(A)},this.mousedrag=function(t,i){if(void 0!==W){var o=y(t.offsetx),a=Math.max(o-N,-N),r=i.shiftKey;a&&(e.draggingKeyframe=!0,e.controller.moveKeyframe(W,N,a,r),N+=a,n())}}}function n(){D=!0}function s(){for(Z.length=0,S=0,P=x.length;P>=S;S++)I.strokeStyle=l.b,I.beginPath(),R=~~(R=S*u)-.5,A.moveTo(0,R).lineTo(width,R).stroke();for(S=0;P>S;S++){var n=x[S],i=e.controller.getChannelKeyTimes(n);R=S*u;for(var o=0;o<i.length;o++){var a=i[o];Z.push(new t(a,w(a),R+.5*u-h/2))}}for(S=0,P=Z.length;P>S;S++)Z[S].paint(A)}function m(e){p!==e&&(p=e,i())}function L(){var e,t=X;for(X=null,S=Z.length;S-- >0;)if((e=Z[S]).path(A),I.isPointInPath(Y.x*M,Y.y*M)){X=e;break}t&&t!=X&&(e=t).mouseout&&e.mouseout(),X&&((e=X).mouseover&&e.mouseover(),U&&(O=e))}function g(){Y&&A.save().scale(M,M).translate(0,C).beginPath().rect(0,0,e.width,e.scrollHeight).translate(-T,-b).clip().run(L).restore()}function v(e){return 0>e-C?-1:(e-C+b)/u|0}function y(e){return f+((e-z)/(p/r)|0)/r}function w(e){var t=e-f;return(t*=p)+z}var x,E=e.dispatcher,b=0,T=0,M=window.devicePixelRatio,_=document.createElement("canvas");this.updateState=function(){x=e.controller.getChannelNames(),n()},this.updateState(),this.scrollTo=function(t){b=t*Math.max(x.length*u-e.scrollHeight,0),n()},this.resize=function(){M=window.devicePixelRatio,_.width=e.width*M,_.height=e.height*M,_.style.width=e.width+"px",_.style.height=e.height+"px",e.scrollHeight=e.height-C},this.dom=_,this.resize();var k,S,H,R,P,W,I=_.getContext("2d"),A=c(I),z=20,D=!1,Z=[],N=0,K=20,F={left:0,grip_length:0,k:1};this.setTimeScale=m;var j,X=null,O=null;this.repaint=n,this._paint=function(){if(D){m(e.timeScale),k=e.currentTime,f=e.scrollTime,I.fillStyle=l.a,I.clearRect(0,0,_.width,_.height),I.save(),I.scale(M,M),I.lineWidth=1,width=e.width,height=e.height;var t=p/o,n=f*p%t,i=(width-z+n)/t;for(S=0;i>S;S++){H=S*t+z-n,I.strokeStyle=l.b,I.beginPath(),I.moveTo(H,0),I.lineTo(H,height),I.stroke(),I.fillStyle=l.d,I.textAlign="center";var c=(S*t-n)/p+f;c=d.format_friendly_seconds(c),I.fillText(c,H,38)}for(t=p/a,i=(width-z+n)/t,S=0;i>S;S++)I.strokeStyle=l.c,I.beginPath(),H=S*t+z-n,I.moveTo(H,C-0),I.lineTo(H,C-16),I.stroke();var u=r/a;for(t=p/r,i=(width-z+n)/t,S=0;i>S;S++)S%u!=0&&(I.strokeStyle=l.c,I.beginPath(),H=S*t+z-n,I.moveTo(H,C-0),I.lineTo(H,C-10),I.stroke());A.save().translate(0,C).beginPath().rect(0,0,e.width,e.scrollHeight).translate(-T,-b).clip().run(s).restore(),function(){var t=width,n=e.totalTime,i=t/p,o=t/n;F.k=o,F.grip_length=i*o;var a=K;F.left=e.scrollTime*o,F.left=Math.min(Math.max(0,F.left),t-F.grip_length),I.beginPath(),I.fillStyle=l.b,I.rect(0,5,t,a),I.fill(),I.fillStyle=l.c,I.beginPath(),I.rect(F.left,5,F.grip_length,a),I.fill();var r=k*o;I.fillStyle="red",I.fillRect(0,5,r,2)}(),I.strokeStyle="red",H=(k-f)*p+z;var h=d.format_friendly_seconds(k),L=I.measureText(h).width,v=C-5,y=L/2+4;I.beginPath(),I.moveTo(H,v),I.lineTo(H,height),I.stroke(),I.fillStyle="red",I.textAlign="center",I.beginPath(),I.moveTo(H,v+5),I.lineTo(H+5,v),I.lineTo(H+y,v),I.lineTo(H+y,v-14),I.lineTo(H-y,v-14),I.lineTo(H-y,v),I.lineTo(H-5,v),I.closePath(),I.fill(),I.fillStyle="white",I.fillText(h,H,v-4),I.restore(),D=!1}else g()},n(),document.addEventListener("mousemove",function(e){j=_.getBoundingClientRect(),function(e,t){O||(Y={x:e,y:t})}(e.clientX-j.left,e.clientY-j.top)}),_.addEventListener("dblclick",function(e){j=_.getBoundingClientRect();var t=e.clientX-j.left,n=v(e.clientY-j.top);y(t),E.fire("keyframe",x[n],k)});var Y=null;_.addEventListener("mouseout",function(){Y=null});var G,U=!1,B=!1;d.handleDrag(_,function(e){U=!0,Y={x:e.offsetx,y:e.offsety},g(),O instanceof t&&(N=O.time,(W=x[v(e.offsety)])||(O=null)),E.fire("time.update",y(e.offsetx))},function(e,t){U=!1,O?(B=!0,O.mousedrag&&O.mousedrag(e,t)):E.fire("time.update",y(e.offsetx))},function(){B&&E.fire("keyframe.move"),U=!1,O=null,B=!1,e.draggingKeyframe=!1,n()}),d.handleDrag(_,function(e){G=F.left},function(t){e.scrollTime=Math.max(0,(G+t.dx)/F.k),n()},function(){},function(e){var t=e.offsetx>=F.left&&e.offsetx<=F.left+F.grip_length;return e.offsety<=K&&t})}},{"./layout_constants":6,"./theme":7,"./utils":11}],9:[function(e,t,n){function i(e){function t(){P=performance.now()-1e3*_.currentTime,S.setControlStatus(!0)}function n(){P=null,S.setControlStatus(!1)}function i(e){}function o(e){e||(e=_.name),(e=prompt("Pick a name to save to (localStorage)",e))&&(_.name=e)}function y(t){e.deserialize(t),x()}function w(e){y(JSON.parse(e))}function x(){S.updateState(),k.updateState(),E()}function E(){var e=_.controller.getChannelNames().length*l.LINE_HEIGHT;H.setLength(_.scrollHeight/e),S.repaint(),k.repaint()}function b(e){e&&w(localStorage[L+e])}function T(e,t){_.width=e-l.LEFT_PANE_WIDTH-4,_.height=t-44,_.scrollHeight=_.height-l.MARKER_TRACK_HEIGHT,H.setHeight(_.scrollHeight-2),p(H.dom,{top:l.MARKER_TRACK_HEIGHT+"px",left:e-16-4+"px"}),I=!0}var M=new a;e.timeliner=this,e.init(this);var _={width:l.WIDTH,height:l.HEIGHT,scrollHeight:0,totalTime:20,timeScale:6,currentTime:0,scrollTime:0,dispatcher:M,controller:e},k=new u(_),S=new c(_),H=(new s(M),new g(0,10)),R=document.createElement("div");e.setDuration(_.totalTime),M.on("keyframe",function(t){var n=_.currentTime;if(null!=n&&null!=t){var i=e.getChannelKeyTimes(t,n);d.binarySearch(i,n)<0?e.setKeyframe(t,n):e.delKeyframe(t,n),E()}}),M.on("keyframe.move",function(e,t){});var P=null,W=function(t){var n=Math.min(Math.max(t,0),_.totalTime);_.currentTime=n,e.setDisplayTime(n),P&&(P=performance.now()-1e3*t),E()};M.on("controls.toggle_play",function(){P?n():t()}),M.on("controls.restart_play",function(){P||t(),W(0)}),M.on("controls.play",t),M.on("controls.pause",n),M.on("controls.stop",function(){null!==P&&n(),W(0)}),M.on("time.update",W),M.on("totalTime.update",function(t){_.totalTime=t,e.setDuration(t),k.repaint()}),M.on("update.scale",function(e){_.timeScale=e,k.setTimeScale(e),k.repaint()}),M.on("controls.undo",function(){}),M.on("controls.redo",function(){});var I=!0;(function e(){if(requestAnimationFrame(e),P){var t=(performance.now()-P)/1e3;W(t),t>_.totalTime&&(P=performance.now())}I&&(R.style.width=_.width+"px",R.style.height=_.height+"px",function(e,t){e.style.cssText="position: absolute; left: 0px; top: 0px; height: "+_.height+"px;",p(e,{overflow:"hidden"}),e.style.width=l.LEFT_PANE_WIDTH+"px",t.style.position="absolute",t.style.top="0px",t.style.left=l.LEFT_PANE_WIDTH+"px"}(S.dom,k.dom),k.resize(),E(),I=!1,M.fire("resize")),k._paint()})(),this.openLocalSave=b,M.on("import",function(){var e;(e=prompt("Paste JSON in here to Load"))&&w(e)}.bind(this)),M.on("new",function(){data.blank(),x()}),M.on("openfile",function(){m(function(e){w(e)},R)}),M.on("open",b),M.on("export",function(){var t=e.serialize();f(JSON.stringify(t,null,"\t"),"animation.json")}),M.on("save",function(){var e=_.name;e||o(e)}),M.on("save_as",o),this.save=i,this.load=y,p(R,{textAlign:"left",lineHeight:"1em",position:"absolute",top:"22px"});var A=document.createElement("div");p(A,{position:"fixed",top:"20px",left:"20px",margin:0,border:"1px solid "+r.a,padding:0,overflow:"hidden",backgroundColor:r.a,color:r.d,zIndex:v,fontFamily:"monospace",fontSize:"12px"});var z={position:"absolute",top:"0px",width:"100%",height:"22px",lineHeight:"22px",overflow:"hidden"},D=document.createElement("div");p(D,z,{borderBottom:"1px solid "+r.b,textAlign:"center"});var Z=document.createElement("span");D.appendChild(Z),Z.innerHTML=h.description+" "+h.version,D.appendChild(Z);var N=document.createElement("div");p(N,z,{textAlign:"right"}),D.appendChild(N);var K=new C(10,"resize_full","Maximize",M);p(K.dom,{width:"20px",height:"20px",padding:"2px",marginRight:"2px"},{marginRight:"2px"}),N.appendChild(K.dom);var F=document.createElement("div"),j={position:"absolute",width:"100%",height:"22px",lineHeight:"22px",bottom:"0",fontSize:"11px"};p(F,j,{borderTop:"1px solid "+r.b,background:r.a}),A.appendChild(R),A.appendChild(F),A.appendChild(D);var X=document.createElement("span");X.textContent="Hello!",X.style.marginLeft="10px",M.on("status",function(e){X.textContent=e}),M.on("state:save",function(e){M.fire("status",e)});var O=document.createElement("div");p(O,j,{textAlign:"right"}),F.appendChild(X),F.appendChild(O);var Y=document.createElement("div");p(Y,{background:"#999",opacity:.2,position:"fixed",margin:0,padding:0,zIndex:v-1,transitionProperty:"top, left, width, height, opacity",transitionDuration:"0.25s",transitionTimingFunction:"ease-in-out"}),document.body.appendChild(A),document.body.appendChild(Y),R.appendChild(S.dom),R.appendChild(k.dom),R.appendChild(H.dom),H.onScroll.do(function(e,t){switch(e){case"scrollto":S.scrollTo(t),k.scrollTo(t)}}),document.addEventListener("keydown",function(e){var t=32==e.keyCode,n=13==e.keyCode,i=(e.metaKey&&91==e.keyCode&&e.shiftKey,document.activeElement);i.nodeName.match(/(INPUT|BUTTON|SELECT)/)&&i.blur(),t?M.fire("controls.toggle_play"):n?M.fire("controls.restart_play"):27==e.keyCode&&M.fire("controls.pause")}),this.dispose=function(){var e=A.parentElement;e.removeChild(A),e.removeChild(Y)},function(){"use strict";function e(e,t,n,i,o){e.style.left=t+"px",e.style.top=n+"px",e.style.width=i+"px",e.style.height=o+"px",e===A&&T(i,o)}function t(){e(Y,b.left,b.top,b.width,b.height),Y.style.opacity=0}function n(e){o(e);var t=c||u||C||h,n=!t&&i();w={x:p,y:f,cx:e.clientX,cy:e.clientY,w:b.width,h:b.height,isResizing:t,isMoving:n,onTopEdge:C,onLeftEdge:h,onRightEdge:c,onBottomEdge:u},(t||n)&&e.preventDefault(),e.stopPropagation()}function i(){return k}function o(e){b=A.getBoundingClientRect(),p=e.clientX-b.left,f=e.clientY-b.top,C=y>f,h=y>p,c=p>=b.width-y,u=f>=b.height-y}function a(e){o(S=e),M=!0,H&&S.stopPropagation()}function r(){return S.clientY<g?"full-screen":S.clientY<v?"snap-top-edge":S.clientX<v?"snap-left-edge":window.innerWidth-S.clientX<v?"snap-right-edge":window.innerHeight-S.clientY<v?"snap-bottom-edge":void 0}function s(){var t,n,i,o;switch(E){case"full-screen":t=0,n=0,i=window.innerWidth,o=window.innerHeight;break;case"snap-top-edge":t=0,n=0,i=window.innerWidth,o=.25*window.innerHeight;break;case"snap-left-edge":t=0,n=0,i=.35*window.innerWidth,o=window.innerHeight;break;case"snap-right-edge":t=.65*window.innerWidth,n=0,i=.35*window.innerWidth,o=window.innerHeight;break;case"snap-bottom-edge":t=0,n=.75*window.innerHeight,i=window.innerWidth,o=.25*window.innerHeight;break;default:return}e(A,t,n,i,o),e(Y,t,n,i,o)}function d(e){o(e),w&&w.isMoving&&((E=r())?(x={width:b.width,height:b.height},s()):x=null,t()),w=null,H&&e.stopPropagation()}var c,u,h,C,p,f,m=120,L=100,g=2,v=12,y=2,w=null,x={width:l.WIDTH,height:l.HEIGHT},E="snap-bottom-edge",b=A.getBoundingClientRect(),M=!1,k=!1;D.addEventListener("mouseover",function(){k=!0}),D.addEventListener("mouseout",function(){k=!1}),K.onClick(function(){x||(x={width:b.width,height:b.height}),E="full-screen",s()}),window.addEventListener("resize",function(){E?s():I=!0}),e(A,0,0,_.width,_.height),e(Y,0,0,_.width,_.height),A.addEventListener("mousedown",function(e){n(e)}),A.addEventListener("mouseover",function(e){H=!0}),A.addEventListener("mouseout",function(e){H=!1}),document.addEventListener("mousemove",a),document.addEventListener("mouseup",d),A.addEventListener("touchstart",function(e){n(e.touches[0]),e.preventDefault()}),document.addEventListener("touchmove",function(e){a(e.touches[0])}),document.addEventListener("touchend",function(e){0==e.touches.length&&d(e.changedTouches[0])});var S,H=!1;(function n(){if(requestAnimationFrame(n),M){if(M=!1,w&&w.isResizing){if(w.onRightEdge&&(A.style.width=Math.max(p,m)+"px"),w.onBottomEdge&&(A.style.height=Math.max(f,L)+"px"),w.onLeftEdge){var o=Math.max(w.cx-S.clientX+w.w,m);o>m&&(A.style.width=o+"px",A.style.left=S.clientX+"px")}if(w.onTopEdge){var a=Math.max(w.cy-S.clientY+w.h,L);a>L&&(A.style.height=a+"px",A.style.top=S.clientY+"px")}return t(),void T(b.width,b.height)}if(w&&w.isMoving){switch(r()){case"full-screen":e(Y,0,0,window.innerWidth,window.innerHeight),Y.style.opacity=.2;break;case"snap-top-edge":e(Y,0,0,window.innerWidth,.25*window.innerHeight),Y.style.opacity=.2;break;case"snap-left-edge":e(Y,0,0,.35*window.innerWidth,window.innerHeight),Y.style.opacity=.2;break;case"snap-right-edge":e(Y,.65*window.innerWidth,0,.35*window.innerWidth,window.innerHeight),Y.style.opacity=.2;break;case"snap-bottom-edge":e(Y,0,.75*window.innerHeight,window.innerWidth,.25*window.innerHeight),Y.style.opacity=.2;break;default:t()}return x?void e(A,S.clientX-x.width/2,S.clientY-Math.min(w.y,x.height),x.width,x.height):(A.style.top=S.clientY-w.y+"px",void(A.style.left=S.clientX-w.x+"px"))}c&&u||h&&C?A.style.cursor="nwse-resize":c&&C||u&&h?A.style.cursor="nesw-resize":c||h?A.style.cursor="ew-resize":u||C?A.style.cursor="ns-resize":i()?A.style.cursor="move":A.style.cursor="default"}})(),s()}()}var o=e("./undo"),a=e("./dispatcher"),r=e("./theme"),s=o.UndoManager,l=(o.UndoState,e("./layout_constants")),d=e("./utils"),c=e("./layer_cabinet"),u=e("./timeline_panel"),h=e("../package.json"),C=e("./widget/icon_button"),p=d.style,f=d.saveToFile,m=d.openAs,L=d.STORAGE_PREFIX,g=e("./widget/scrollbar"),v=999;i.binarySearch=d.binarySearch,window.Timeliner=i},{"../package.json":2,"./dispatcher":3,"./layer_cabinet":4,"./layout_constants":6,"./theme":7,"./timeline_panel":8,"./undo":10,"./utils":11,"./widget/icon_button":13,"./widget/scrollbar":15}],10:[function(e,t,n){function i(e,t){this.dispatcher=e,this.MAX_ITEMS=t||100,this.clear()}i.prototype.save=function(e,t){var n=this.states,i=this.index+1,o=n.length-i;n.splice(i,o,e),n.length>this.MAX_ITEMS&&n.shift(),this.index=n.length-1,t||this.dispatcher.fire("state:save",e.description)},i.prototype.clear=function(){this.states=[],this.index=-1},i.prototype.canUndo=function(){return this.index>0},i.prototype.canRedo=function(){return this.index<this.states.length-1},i.prototype.undo=function(){return this.canUndo()?(this.dispatcher.fire("status","Undo: "+this.get().description),this.index--):this.dispatcher.fire("status","Nothing to undo"),this.get()},i.prototype.redo=function(){return this.canRedo()?(this.index++,this.dispatcher.fire("status","Redo: "+this.get().description)):this.dispatcher.fire("status","Nothing to redo"),this.get()},i.prototype.get=function(){return this.states[this.index]},t.exports={UndoState:function(e,t){this.state=e.getJSONString(),this.description=t},UndoManager:i}},{}],11:[function(e,t,n){function i(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){var t=e.target.result;r(t)},n.readAsText(t),a.value=""}}function o(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}var a,r;t.exports={STORAGE_PREFIX:"timeliner-",Z_INDEX:999,style:function(e,t){for(var n=1;n<arguments.length;++n){var i=arguments[n];for(var o in i)e.style[o]=i[o]}},saveToFile:function(e,t){var n=document.createElement("a");document.body.appendChild(n),n.style="display: none";var i=new Blob([e],{type:"octet/stream"}),a=window.URL.createObjectURL(i);n.href=a,n.download=t,o(n),setTimeout(function(){window.URL.revokeObjectURL(a),document.body.removeChild(n)},500)},openAs:function(e,t){r=e,a||((a=document.createElement("input")).style.display="none",a.type="file",a.addEventListener("change",i),(t=t||document.body).appendChild(a)),o(a)},format_friendly_seconds:function(e,t){var n=0|e,i=n%60,o=(n/60|0)%60+":"+(i/100).toFixed(2).substring(2);return e%1>0&&("frames"===t?o=i+"+"+(e%1*60).toFixed(0)+"f":o+=(e%1).toFixed(2).substring(1)),o},proxy_ctx:function(e){function t(t){return function(){return e[t].apply(e,arguments),i}}function n(t){return function(n){return e[t]=n,i}}var i={run:function(e){return e(i),i}};for(var o in e)switch(typeof e[o]){case"object":break;case"function":i[o]=t(o);break;default:i[o]=n(o)}return i},handleDrag:function(e,t,n,i,o){function a(e){return s(e),o&&!o(C,e)?void(C=null):(document.addEventListener("mousemove",r),document.addEventListener("mouseup",d),t(C,e),void e.preventDefault())}function r(e){l(e),C.moved=!0,n(C,e)}function s(t){p=e.getBoundingClientRect();var n=t.clientX,i=t.clientY;C={startx:n,starty:i,x:n,y:i,dx:0,dy:0,offsetx:n-p.left,offsety:i-p.top,moved:!1}}function l(t){p=e.getBoundingClientRect();var n=t.clientX,i=t.clientY,o=n-p.left,a=i-p.top;C.x=n,C.y=i,C.dx=t.clientX-C.startx,C.dy=t.clientY-C.starty,C.offsetx=o,C.offsety=a}function d(e){l(e),i(C,e),C=null,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",d)}function c(n){if(1==n.touches.length){var i=n.touches[0];if(o&&!o(i))return;n.preventDefault(),s(i),t(C,i)}e.addEventListener("touchmove",u),e.addEventListener("touchend",h)}function u(e){r(e.touches[0])}function h(t){d(t),e.removeEventListener("touchmove",u),e.removeEventListener("touchend",h)}var C=null,p=e.getBoundingClientRect();e.addEventListener("mousedown",a),e.addEventListener("touchstart",c),this.release=function(){e.removeEventListener("mousedown",a),e.removeEventListener("touchstart",c)}},binarySearch:function(e,t){for(var n=0,i=e.length,o=!1;i>n;){var a=n+i>>1;e[a]<t?n=a+1:(i=a,o=e[a]===t)}return o?n:~n}}},{}],12:[function(e,t,n){t.exports={unitsPerEm:1792,ascender:1536,descender:-256,fonts:{plus:{advanceWidth:1408,commands:"M,1408,800 C,1408,853,1365,896,1312,896 L,896,896 L,896,1312 C,896,1365,853,1408,800,1408 L,608,1408 C,555,1408,512,1365,512,1312 L,512,896 L,96,896 C,43,896,0,853,0,800 L,0,608 C,0,555,43,512,96,512 L,512,512 L,512,96 C,512,43,555,0,608,0 L,800,0 C,853,0,896,43,896,96 L,896,512 L,1312,512 C,1365,512,1408,555,1408,608 Z"},minus:{advanceWidth:1408,commands:"M,1408,800 C,1408,853,1365,896,1312,896 L,96,896 C,43,896,0,853,0,800 L,0,608 C,0,555,43,512,96,512 L,1312,512 C,1365,512,1408,555,1408,608 Z"},ok:{advanceWidth:1792,commands:"M,1671,970 C,1671,995,1661,1020,1643,1038 L,1507,1174 C,1489,1192,1464,1202,1439,1202 C,1414,1202,1389,1192,1371,1174 L,715,517 L,421,812 C,403,830,378,840,353,840 C,328,840,303,830,285,812 L,149,676 C,131,658,121,633,121,608 C,121,583,131,558,149,540 L,511,178 L,647,42 C,665,24,690,14,715,14 C,740,14,765,24,783,42 L,919,178 L,1643,902 C,1661,920,1671,945,1671,970 Z"},remove:{advanceWidth:1408,commands:"M,1298,214 C,1298,239,1288,264,1270,282 L,976,576 L,1270,870 C,1288,888,1298,913,1298,938 C,1298,963,1288,988,1270,1006 L,1134,1142 C,1116,1160,1091,1170,1066,1170 C,1041,1170,1016,1160,998,1142 L,704,848 L,410,1142 C,392,1160,367,1170,342,1170 C,317,1170,292,1160,274,1142 L,138,1006 C,120,988,110,963,110,938 C,110,913,120,888,138,870 L,432,576 L,138,282 C,120,264,110,239,110,214 C,110,189,120,164,138,146 L,274,10 C,292,-8,317,-18,342,-18 C,367,-18,392,-8,410,10 L,704,304 L,998,10 C,1016,-8,1041,-18,1066,-18 C,1091,-18,1116,-8,1134,10 L,1270,146 C,1288,164,1298,189,1298,214 Z"},zoom_in:{advanceWidth:1664,commands:"M,1024,736 C,1024,753,1009,768,992,768 L,768,768 L,768,992 C,768,1009,753,1024,736,1024 L,672,1024 C,655,1024,640,1009,640,992 L,640,768 L,416,768 C,399,768,384,753,384,736 L,384,672 C,384,655,399,640,416,640 L,640,640 L,640,416 C,640,399,655,384,672,384 L,736,384 C,753,384,768,399,768,416 L,768,640 L,992,640 C,1009,640,1024,655,1024,672 M,1152,704 C,1152,457,951,256,704,256 C,457,256,256,457,256,704 C,256,951,457,1152,704,1152 C,951,1152,1152,951,1152,704 M,1664,-128 C,1664,-94,1650,-61,1627,-38 L,1284,305 C,1365,422,1408,562,1408,704 C,1408,1093,1093,1408,704,1408 C,315,1408,0,1093,0,704 C,0,315,315,0,704,0 C,846,0,986,43,1103,124 L,1446,-218 C,1469,-242,1502,-256,1536,-256 C,1607,-256,1664,-199,1664,-128 Z"},zoom_out:{advanceWidth:1664,commands:"M,1024,736 C,1024,753,1009,768,992,768 L,416,768 C,399,768,384,753,384,736 L,384,672 C,384,655,399,640,416,640 L,992,640 C,1009,640,1024,655,1024,672 M,1152,704 C,1152,457,951,256,704,256 C,457,256,256,457,256,704 C,256,951,457,1152,704,1152 C,951,1152,1152,951,1152,704 M,1664,-128 C,1664,-94,1650,-61,1627,-38 L,1284,305 C,1365,422,1408,562,1408,704 C,1408,1093,1093,1408,704,1408 C,315,1408,0,1093,0,704 C,0,315,315,0,704,0 C,846,0,986,43,1103,124 L,1446,-218 C,1469,-242,1502,-256,1536,-256 C,1607,-256,1664,-199,1664,-128 Z"},cog:{advanceWidth:1536,commands:"M,1024,640 C,1024,499,909,384,768,384 C,627,384,512,499,512,640 C,512,781,627,896,768,896 C,909,896,1024,781,1024,640 M,1536,749 C,1536,766,1524,782,1507,785 L,1324,813 C,1314,846,1300,879,1283,911 C,1317,958,1354,1002,1388,1048 C,1393,1055,1396,1062,1396,1071 C,1396,1079,1394,1087,1389,1093 C,1347,1152,1277,1214,1224,1263 C,1217,1269,1208,1273,1199,1273 C,1190,1273,1181,1270,1175,1264 L,1033,1157 C,1004,1172,974,1184,943,1194 L,915,1378 C,913,1395,897,1408,879,1408 L,657,1408 C,639,1408,625,1396,621,1380 C,605,1320,599,1255,592,1194 C,561,1184,530,1171,501,1156 L,363,1263 C,355,1269,346,1273,337,1273 C,303,1273,168,1127,144,1094 C,139,1087,135,1080,135,1071 C,135,1062,139,1054,145,1047 C,182,1002,218,957,252,909 C,236,879,223,849,213,817 L,27,789 C,12,786,0,768,0,753 L,0,531 C,0,514,12,498,29,495 L,212,468 C,222,434,236,401,253,369 C,219,322,182,278,148,232 C,143,225,140,218,140,209 C,140,201,142,193,147,186 C,189,128,259,66,312,18 C,319,11,328,7,337,7 C,346,7,355,10,362,16 L,503,123 C,532,108,562,96,593,86 L,621,-98 C,623,-115,639,-128,657,-128 L,879,-128 C,897,-128,911,-116,915,-100 C,931,-40,937,25,944,86 C,975,96,1006,109,1035,124 L,1173,16 C,1181,11,1190,7,1199,7 C,1233,7,1368,154,1392,186 C,1398,193,1401,200,1401,209 C,1401,218,1397,227,1391,234 C,1354,279,1318,323,1284,372 C,1300,401,1312,431,1323,463 L,1508,491 C,1524,494,1536,512,1536,527 Z"},trash:{advanceWidth:1408,commands:"M,512,800 C,512,818,498,832,480,832 L,416,832 C,398,832,384,818,384,800 L,384,224 C,384,206,398,192,416,192 L,480,192 C,498,192,512,206,512,224 M,768,800 C,768,818,754,832,736,832 L,672,832 C,654,832,640,818,640,800 L,640,224 C,640,206,654,192,672,192 L,736,192 C,754,192,768,206,768,224 M,1024,800 C,1024,818,1010,832,992,832 L,928,832 C,910,832,896,818,896,800 L,896,224 C,896,206,910,192,928,192 L,992,192 C,1010,192,1024,206,1024,224 M,1152,76 C,1152,28,1125,0,1120,0 L,288,0 C,283,0,256,28,256,76 L,256,1024 L,1152,1024 L,1152,76 M,480,1152 L,529,1269 C,532,1273,540,1279,546,1280 L,863,1280 C,868,1279,877,1273,880,1269 L,928,1152 M,1408,1120 C,1408,1138,1394,1152,1376,1152 L,1067,1152 L,997,1319 C,977,1368,917,1408,864,1408 L,544,1408 C,491,1408,431,1368,411,1319 L,341,1152 L,32,1152 C,14,1152,0,1138,0,1120 L,0,1056 C,0,1038,14,1024,32,1024 L,128,1024 L,128,72 C,128,-38,200,-128,288,-128 L,1120,-128 C,1208,-128,1280,-34,1280,76 L,1280,1024 L,1376,1024 C,1394,1024,1408,1038,1408,1056 Z"},file_alt:{advanceWidth:1536,commands:"M,1468,1156 L,1156,1468 C,1119,1505,1045,1536,992,1536 L,96,1536 C,43,1536,0,1493,0,1440 L,0,-160 C,0,-213,43,-256,96,-256 L,1440,-256 C,1493,-256,1536,-213,1536,-160 L,1536,992 C,1536,1045,1505,1119,1468,1156 M,1024,1400 C,1041,1394,1058,1385,1065,1378 L,1378,1065 C,1385,1058,1394,1041,1400,1024 L,1024,1024 M,1408,-128 L,128,-128 L,128,1408 L,896,1408 L,896,992 C,896,939,939,896,992,896 L,1408,896 Z"},download_alt:{advanceWidth:1664,commands:"M,1280,192 C,1280,157,1251,128,1216,128 C,1181,128,1152,157,1152,192 C,1152,227,1181,256,1216,256 C,1251,256,1280,227,1280,192 M,1536,192 C,1536,157,1507,128,1472,128 C,1437,128,1408,157,1408,192 C,1408,227,1437,256,1472,256 C,1507,256,1536,227,1536,192 M,1664,416 C,1664,469,1621,512,1568,512 L,1104,512 L,968,376 C,931,340,883,320,832,320 C,781,320,733,340,696,376 L,561,512 L,96,512 C,43,512,0,469,0,416 L,0,96 C,0,43,43,0,96,0 L,1568,0 C,1621,0,1664,43,1664,96 M,1339,985 C,1329,1008,1306,1024,1280,1024 L,1024,1024 L,1024,1472 C,1024,1507,995,1536,960,1536 L,704,1536 C,669,1536,640,1507,640,1472 L,640,1024 L,384,1024 C,358,1024,335,1008,325,985 C,315,961,320,933,339,915 L,787,467 C,799,454,816,448,832,448 C,848,448,865,454,877,467 L,1325,915 C,1344,933,1349,961,1339,985 Z"},repeat:{advanceWidth:1536,commands:"M,1536,1280 C,1536,1306,1520,1329,1497,1339 C,1473,1349,1445,1344,1427,1325 L,1297,1196 C,1156,1329,965,1408,768,1408 C,345,1408,0,1063,0,640 C,0,217,345,-128,768,-128 C,997,-128,1213,-27,1359,149 C,1369,162,1369,181,1357,192 L,1220,330 C,1213,336,1204,339,1195,339 C,1186,338,1177,334,1172,327 C,1074,200,927,128,768,128 C,486,128,256,358,256,640 C,256,922,486,1152,768,1152 C,899,1152,1023,1102,1117,1015 L,979,877 C,960,859,955,831,965,808 C,975,784,998,768,1024,768 L,1472,768 C,1507,768,1536,797,1536,832 Z"},pencil:{advanceWidth:1536,commands:"M,363,0 L,256,0 L,256,128 L,128,128 L,128,235 L,219,326 L,454,91 M,886,928 C,886,922,884,916,879,911 L,337,369 C,332,364,326,362,320,362 C,307,362,298,371,298,384 C,298,390,300,396,305,401 L,847,943 C,852,948,858,950,864,950 C,877,950,886,941,886,928 M,832,1120 L,0,288 L,0,-128 L,416,-128 L,1248,704 M,1515,1024 C,1515,1058,1501,1091,1478,1115 L,1243,1349 C,1219,1373,1186,1387,1152,1387 C,1118,1387,1085,1373,1062,1349 L,896,1184 L,1312,768 L,1478,934 C,1501,957,1515,990,1515,1024 Z"},edit:{advanceWidth:1792,commands:"M,888,352 L,832,352 L,832,448 L,736,448 L,736,504 L,852,620 L,1004,468 M,1328,1072 C,1337,1063,1336,1048,1327,1039 L,977,689 C,968,680,953,679,944,688 C,935,697,936,712,945,721 L,1295,1071 C,1304,1080,1319,1081,1328,1072 M,1408,478 C,1408,491,1400,502,1388,507 C,1376,512,1363,510,1353,500 L,1289,436 C,1283,430,1280,422,1280,414 L,1280,288 C,1280,200,1208,128,1120,128 L,288,128 C,200,128,128,200,128,288 L,128,1120 C,128,1208,200,1280,288,1280 L,1120,1280 C,1135,1280,1150,1278,1165,1274 C,1176,1270,1188,1273,1197,1282 L,1246,1331 C,1254,1339,1257,1349,1255,1360 C,1253,1370,1246,1379,1237,1383 C,1200,1400,1160,1408,1120,1408 L,288,1408 C,129,1408,0,1279,0,1120 L,0,288 C,0,129,129,0,288,0 L,1120,0 C,1279,0,1408,129,1408,288 M,1312,1216 L,640,544 L,640,256 L,928,256 L,1600,928 M,1756,1084 C,1793,1121,1793,1183,1756,1220 L,1604,1372 C,1567,1409,1505,1409,1468,1372 L,1376,1280 L,1664,992 L,1756,1084 Z"},play:{advanceWidth:1408,commands:"M,1384,609 C,1415,626,1415,654,1384,671 L,56,1409 C,25,1426,0,1411,0,1376 L,0,-96 C,0,-131,25,-146,56,-129 Z"},pause:{advanceWidth:1536,commands:"M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,960,1408 C,925,1408,896,1379,896,1344 L,896,-64 C,896,-99,925,-128,960,-128 L,1472,-128 C,1507,-128,1536,-99,1536,-64 M,640,1344 C,640,1379,611,1408,576,1408 L,64,1408 C,29,1408,0,1379,0,1344 L,0,-64 C,0,-99,29,-128,64,-128 L,576,-128 C,611,-128,640,-99,640,-64 Z"},stop:{advanceWidth:1536,commands:"M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,64,1408 C,29,1408,0,1379,0,1344 L,0,-64 C,0,-99,29,-128,64,-128 L,1472,-128 C,1507,-128,1536,-99,1536,-64 Z"},resize_full:{advanceWidth:1536,commands:"M,755,480 C,755,488,751,497,745,503 L,631,617 C,625,623,616,627,608,627 C,600,627,591,623,585,617 L,253,285 L,109,429 C,97,441,81,448,64,448 C,29,448,0,419,0,384 L,0,-64 C,0,-99,29,-128,64,-128 L,512,-128 C,547,-128,576,-99,576,-64 C,576,-47,569,-31,557,-19 L,413,125 L,745,457 C,751,463,755,472,755,480 M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,1024,1408 C,989,1408,960,1379,960,1344 C,960,1327,967,1311,979,1299 L,1123,1155 L,791,823 C,785,817,781,808,781,800 C,781,792,785,783,791,777 L,905,663 C,911,657,920,653,928,653 C,936,653,945,657,951,663 L,1283,995 L,1427,851 C,1439,839,1455,832,1472,832 C,1507,832,1536,861,1536,896 Z"},resize_small:{advanceWidth:1536,commands:"M,768,576 C,768,611,739,640,704,640 L,256,640 C,221,640,192,611,192,576 C,192,559,199,543,211,531 L,355,387 L,23,55 C,17,49,13,40,13,32 C,13,24,17,15,23,9 L,137,-105 C,143,-111,152,-115,160,-115 C,168,-115,177,-111,183,-105 L,515,227 L,659,83 C,671,71,687,64,704,64 C,739,64,768,93,768,128 M,1523,1248 C,1523,1256,1519,1265,1513,1271 L,1399,1385 C,1393,1391,1384,1395,1376,1395 C,1368,1395,1359,1391,1353,1385 L,1021,1053 L,877,1197 C,865,1209,849,1216,832,1216 C,797,1216,768,1187,768,1152 L,768,704 C,768,669,797,640,832,640 L,1280,640 C,1315,640,1344,669,1344,704 C,1344,721,1337,737,1325,749 L,1181,893 L,1513,1225 C,1519,1231,1523,1240,1523,1248 Z"},eye_open:{advanceWidth:1792,commands:"M,1664,576 C,1493,312,1217,128,896,128 C,575,128,299,312,128,576 C,223,723,353,849,509,929 C,469,861,448,783,448,704 C,448,457,649,256,896,256 C,1143,256,1344,457,1344,704 C,1344,783,1323,861,1283,929 C,1439,849,1569,723,1664,576 M,944,960 C,944,934,922,912,896,912 C,782,912,688,818,688,704 C,688,678,666,656,640,656 C,614,656,592,678,592,704 C,592,871,729,1008,896,1008 C,922,1008,944,986,944,960 M,1792,576 C,1792,601,1784,624,1772,645 C,1588,947,1251,1152,896,1152 C,541,1152,204,947,20,645 C,8,624,0,601,0,576 C,0,551,8,528,20,507 C,204,205,541,0,896,0 C,1251,0,1588,204,1772,507 C,1784,528,1792,551,1792,576 Z"},eye_close:{advanceWidth:1792,commands:"M,555,201 C,379,280,232,415,128,576 C,223,723,353,849,509,929 C,469,861,448,783,448,704 C,448,561,517,426,633,342 M,944,960 C,944,934,922,912,896,912 C,782,912,688,819,688,704 C,688,678,666,656,640,656 C,614,656,592,678,592,704 C,592,871,729,1008,896,1008 C,922,1008,944,986,944,960 M,1307,1151 C,1307,1162,1301,1172,1291,1178 C,1270,1190,1176,1248,1158,1248 C,1146,1248,1136,1242,1130,1232 L,1076,1135 C,1017,1146,956,1152,896,1152 C,527,1152,218,949,20,645 C,7,625,0,600,0,576 C,0,551,7,527,20,507 C,135,327,298,177,492,89 C,482,72,448,18,448,2 C,448,-10,454,-20,464,-26 C,485,-38,580,-96,598,-96 C,609,-96,620,-90,626,-80 L,675,9 C,886,386,1095,765,1306,1142 C,1307,1144,1307,1149,1307,1151 M,1344,704 C,1344,732,1341,760,1336,788 L,1056,286 C,1229,352,1344,518,1344,704 M,1792,576 C,1792,602,1785,623,1772,645 C,1694,774,1569,899,1445,982 L,1382,870 C,1495,792,1590,691,1664,576 C,1508,334,1261,157,970,132 L,896,0 C,1197,0,1467,137,1663,362 C,1702,407,1741,456,1772,507 C,1785,529,1792,550,1792,576 Z"},folder_open:{advanceWidth:1920,commands:"M,1879,584 C,1879,629,1828,640,1792,640 L,704,640 C,616,640,498,586,440,518 L,104,122 C,88,104,73,80,73,56 C,73,11,124,0,160,0 L,1248,0 C,1336,0,1454,54,1512,122 L,1848,518 C,1864,536,1879,560,1879,584 M,1536,928 C,1536,1051,1435,1152,1312,1152 L,768,1152 L,768,1184 C,768,1307,667,1408,544,1408 L,224,1408 C,101,1408,0,1307,0,1184 L,0,224 C,0,216,1,207,1,199 L,6,205 L,343,601 C,424,697,579,768,704,768 L,1536,768 Z"},signin:{advanceWidth:1536,commands:"M,1184,640 C,1184,657,1177,673,1165,685 L,621,1229 C,609,1241,593,1248,576,1248 C,541,1248,512,1219,512,1184 L,512,896 L,64,896 C,29,896,0,867,0,832 L,0,448 C,0,413,29,384,64,384 L,512,384 L,512,96 C,512,61,541,32,576,32 C,593,32,609,39,621,51 L,1165,595 C,1177,607,1184,623,1184,640 M,1536,992 C,1536,1151,1407,1280,1248,1280 L,928,1280 C,883,1280,896,1212,896,1184 C,896,1147,935,1152,960,1152 L,1248,1152 C,1336,1152,1408,1080,1408,992 L,1408,288 C,1408,200,1336,128,1248,128 L,928,128 C,883,128,896,60,896,32 C,896,15,911,0,928,0 L,1248,0 C,1407,0,1536,129,1536,288 Z"},upload_alt:{advanceWidth:1664,commands:"M,1280,64 C,1280,29,1251,0,1216,0 C,1181,0,1152,29,1152,64 C,1152,99,1181,128,1216,128 C,1251,128,1280,99,1280,64 M,1536,64 C,1536,29,1507,0,1472,0 C,1437,0,1408,29,1408,64 C,1408,99,1437,128,1472,128 C,1507,128,1536,99,1536,64 M,1664,288 C,1664,341,1621,384,1568,384 L,1141,384 C,1114,310,1043,256,960,256 L,704,256 C,621,256,550,310,523,384 L,96,384 C,43,384,0,341,0,288 L,0,-32 C,0,-85,43,-128,96,-128 L,1568,-128 C,1621,-128,1664,-85,1664,-32 M,1339,936 C,1349,959,1344,987,1325,1005 L,877,1453 C,865,1466,848,1472,832,1472 C,816,1472,799,1466,787,1453 L,339,1005 C,320,987,315,959,325,936 C,335,912,358,896,384,896 L,640,896 L,640,448 C,640,413,669,384,704,384 L,960,384 C,995,384,1024,413,1024,448 L,1024,896 L,1280,896 C,1306,896,1329,912,1339,936 Z"},save:{advanceWidth:1536,commands:"M,384,0 L,384,384 L,1152,384 L,1152,0 M,1280,0 L,1280,416 C,1280,469,1237,512,1184,512 L,352,512 C,299,512,256,469,256,416 L,256,0 L,128,0 L,128,1280 L,256,1280 L,256,864 C,256,811,299,768,352,768 L,928,768 C,981,768,1024,811,1024,864 L,1024,1280 C,1044,1280,1083,1264,1097,1250 L,1378,969 C,1391,956,1408,915,1408,896 L,1408,0 M,896,928 C,896,911,881,896,864,896 L,672,896 C,655,896,640,911,640,928 L,640,1248 C,640,1265,655,1280,672,1280 L,864,1280 C,881,1280,896,1265,896,1248 L,896,928 M,1536,896 C,1536,949,1506,1022,1468,1060 L,1188,1340 C,1150,1378,1077,1408,1024,1408 L,96,1408 C,43,1408,0,1365,0,1312 L,0,-32 C,0,-85,43,-128,96,-128 L,1440,-128 C,1493,-128,1536,-85,1536,-32 Z"},undo:{advanceWidth:1536,commands:"M,1536,640 C,1536,1063,1191,1408,768,1408 C,571,1408,380,1329,239,1196 L,109,1325 C,91,1344,63,1349,40,1339 C,16,1329,0,1306,0,1280 L,0,832 C,0,797,29,768,64,768 L,512,768 C,538,768,561,784,571,808 C,581,831,576,859,557,877 L,420,1015 C,513,1102,637,1152,768,1152 C,1050,1152,1280,922,1280,640 C,1280,358,1050,128,768,128 C,609,128,462,200,364,327 C,359,334,350,338,341,339 C,332,339,323,336,316,330 L,179,192 C,168,181,167,162,177,149 C,323,-27,539,-128,768,-128 C,1191,-128,1536,217,1536,640 Z"},paste:{advanceWidth:1792,commands:"M,768,-128 L,768,1024 L,1152,1024 L,1152,608 C,1152,555,1195,512,1248,512 L,1664,512 L,1664,-128 M,1024,1312 C,1024,1295,1009,1280,992,1280 L,288,1280 C,271,1280,256,1295,256,1312 L,256,1376 C,256,1393,271,1408,288,1408 L,992,1408 C,1009,1408,1024,1393,1024,1376 L,1024,1312 M,1280,640 L,1280,939 L,1579,640 M,1792,512 C,1792,565,1762,638,1724,676 L,1316,1084 C,1305,1095,1293,1104,1280,1112 L,1280,1440 C,1280,1493,1237,1536,1184,1536 L,96,1536 C,43,1536,0,1493,0,1440 L,0,96 C,0,43,43,0,96,0 L,640,0 L,640,-160 C,640,-213,683,-256,736,-256 L,1696,-256 C,1749,-256,1792,-213,1792,-160 Z"},folder_open_alt:{advanceWidth:1920,commands:"M,1781,605 C,1781,590,1772,577,1763,566 L,1469,203 C,1435,161,1365,128,1312,128 L,224,128 C,202,128,171,135,171,163 C,171,178,180,191,189,203 L,483,566 C,517,607,587,640,640,640 L,1728,640 C,1750,640,1781,633,1781,605 M,640,768 C,549,768,442,717,384,646 L,128,331 L,128,1184 C,128,1237,171,1280,224,1280 L,544,1280 C,597,1280,640,1237,640,1184 L,640,1120 C,640,1067,683,1024,736,1024 L,1312,1024 C,1365,1024,1408,981,1408,928 L,1408,768 M,1909,605 C,1909,629,1904,652,1894,673 C,1864,737,1796,768,1728,768 L,1536,768 L,1536,928 C,1536,1051,1435,1152,1312,1152 L,768,1152 L,768,1184 C,768,1307,667,1408,544,1408 L,224,1408 C,101,1408,0,1307,0,1184 L,0,224 C,0,101,101,0,224,0 L,1312,0 C,1402,0,1511,52,1568,122 L,1863,485 C,1890,519,1909,561,1909,605 Z"}}}},{}],13:[function(e,t,n){function i(e,t,n,i){var s=document.createElement("button");r(s,{padding:"0.2em 0.4em",margin:"0em",background:"none",outline:"none",fontSize:"16px",border:"none",borderRadius:"0.2em"});var l=document.createElement("canvas"),d=l.getContext("2d");s.appendChild(l),this.ctx=d,this.dom=s,this.canvas=l;var c=this;this.size=e;var u=1;this.resize=function(){u=window.devicePixelRatio;var n=e,i=o.fonts[t];l.height=n*u,l.style.height=n+"px";var r=n/o.unitsPerEm,s=i.advanceWidth*r+.5|0;s+=2,n+=2,l.width=s*u,l.style.width=s+"px",d.fillStyle=a.c,c.draw()},i&&i.on("resize",this.resize),this.setSize=function(t){e=t,this.resize()},this.setIcon=function(e){c.icon=e,o.fonts[e]||console.error("Font icon not found!"),this.resize()},this.onClick=function(e){s.addEventListener("click",e)};var h,C=500;this.onLongHold=function(e){function t(t){t.preventDefault(),t.stopPropagation(),h=setTimeout(function(){h&&e()},C)}function n(){clearTimeout(h)}s.addEventListener("mousedown",t),s.addEventListener("touchstart",t),s.addEventListener("mouseup",n),s.addEventListener("mouseout",n),s.addEventListener("touchend",n)},this.setTip=function(e){n=e};var p={border:"1px solid "+a.b},f={border:"1px solid transparent"},m="none",L=(a.c,a.b);s.style.background=m,r(s,f),s.addEventListener("mouseover",function(){r(s,p),d.fillStyle=a.d,d.shadowColor=a.b,d.shadowBlur=.5*u,d.shadowOffsetX=1*u,d.shadowOffsetY=1*u,c.draw(),n&&i&&i.fire("status",n)}),s.addEventListener("mousedown",function(){s.style.background=L}),s.addEventListener("mouseup",function(){s.style.background=m,r(s,p)}),s.addEventListener("mouseout",function(){s.style.background=m,r(s,f),c.dropshadow=!1,d.fillStyle=a.c,d.shadowColor=null,d.shadowBlur=0,d.shadowOffsetX=0,d.shadowOffsetY=0,c.draw()}),t&&this.setIcon(t)}var o=e("./font.json"),a=e("../theme"),r=e("../utils").style;i.prototype.CMD_MAP={M:"moveTo",L:"lineTo",Q:"quadraticCurveTo",C:"bezierCurveTo",Z:"closePath"},i.prototype.draw=function(){if(this.icon){var e=this.ctx,t=o.fonts[this.icon],n=this.size,i=window.devicePixelRatio,r=n/o.unitsPerEm*i,s=t.commands.split(" ");if(e.save(),e.clearRect(0,0,this.canvas.width*i,this.canvas.height*i),this.dropshadow){e.save(),e.fillStyle=a.b,e.translate(1.5*i,1.5*i),e.scale(r,-r),e.translate(0,-o.ascender),e.beginPath();for(var l=0,d=s.length;d>l;l++){var c=(u=s[l].split(",")).slice(1);e[this.CMD_MAP[u[0]]].apply(e,c)}e.fill(),e.restore()}e.scale(r,-r),e.translate(0,-o.ascender),e.beginPath();for(l=0,d=s.length;d>l;l++){var u;c=(u=s[l].split(",")).slice(1);e[this.CMD_MAP[u[0]]].apply(e,c)}e.fill(),e.restore()}},t.exports=i},{"../theme":7,"../utils":11,"./font.json":12}],14:[function(e,t,n){var i=e("../theme"),o=e("do.js"),a=e("../utils").style,r=e("../utils").handleDrag;t.exports=function(e){function t(){u.onChange.fire(h)}var n=void 0===(e=e||{}).min?-1/0:e.min,s=e.step||.1,l=e.precision||3,d=document.createElement("input");a(d,{textAlign:"center",fontSize:"10px",padding:"1px",cursor:"ns-resize",width:"40px",margin:0,marginRight:"10px",appearance:"none",outline:"none",border:0,background:"none",borderBottom:"1px dotted "+i.c,color:i.c});var c,u=this,h=0;this.onChange=new o,d.addEventListener("change",function(e){h=parseFloat(d.value,10),t()}),r(d,function(e){c=h},function(e){var t=e.dx,i=e.dy,o=1*s;h=c+t*o+i*-o,h=Math.max(n,h),u.onChange.fire(h,!0)},function(e){e.moved?t():d.focus()}),this.dom=d,this.setValue=function(e){h=e},this.paint=function(){null!=h&&(d.value=h.toFixed(l))}}},{"../theme":7,"../utils":11,"do.js":1}],15:[function(e,t,n){var i=e("do.js"),o=e("../utils"),a={position:"absolute",background:"-webkit-gradient(linear, left top, right top, color-stop(0, rgb(29,29,29)), color-stop(0.6, rgb(50,50,50)) )",border:"1px solid rgb(29, 29, 29)",textAlign:"center",cursor:"pointer"},r={background:"-webkit-gradient(linear, left top, right top, color-stop(0.2, rgb(88,88,88)), color-stop(0.6, rgb(64,64,64)) )",border:"1px solid rgb(25,25,25)",position:"relative",borderRadius:"6px"};t.exports=function(e,t,n){function s(e){e.preventDefault();var t=h-p,n=(e.clientY-m)/t;n>1&&(n=1),0>n&&(n=0),L.setPosition(n),L.onScroll.fire("scrollto",n)}function l(e){s(e),document.removeEventListener("mousemove",s,!1),document.removeEventListener("mouseup",l,!1)}var d=t||12,c=d+6,u=document.createElement("div");o.style(u,a);var h=e-2;u.style.height=h+"px",u.style.width=c+"px";var C=document.createElement("div");o.style(C,r),C.style.width=d+"px",C.style.height=e/2,C.style.top=0,C.style.left="3px",u.appendChild(C);var p,f,m,L=this;this.setLength=function(e){e=Math.max(Math.min(1,e),0),e*=h,p=Math.max(e,25),C.style.height=p+"px"},this.setHeight=function(t){h=(e=t)-2,u.style.height=h+"px"},this.setPosition=function(e){e=Math.max(Math.min(1,e),0),f=e*(h-p),C.style.top=f},this.setLength(1),this.setPosition(0),this.onScroll=new i,u.addEventListener("mousedown",function(e){e.preventDefault(),e.target==C?(m=e.clientY,document.addEventListener("mousemove",s,!1),document.addEventListener("mouseup",l,!1)):e.clientY<f?L.onScroll.fire("pageup"):e.clientY>f+p&&L.onScroll.fire("pagedown")},!1),this.dom=u}},{"../utils":11,"do.js":1}]},{},[3,4,5,6,7,8,9,10,11]);