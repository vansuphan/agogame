!function(e){"use strict";function t(e,n,r){var o,i=document.createElement("img");return i.onerror=function(o){return t.onerror(i,o,e,n,r)},i.onload=function(o){return t.onload(i,o,e,n,r)},"string"==typeof e?(t.fetchBlob(e,function(n){n&&t.isInstanceOf("Blob",n)?(e=n,o=t.createObjectURL(e)):(o=e,r&&r.crossOrigin&&(i.crossOrigin=r.crossOrigin)),i.src=o},r),i):t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e)?(o=i._objectURL=t.createObjectURL(e))?(i.src=o,i):t.readFile(e,function(e){var t=e.target;t&&t.result?i.src=t.result:n&&n(e)}):void 0}var n=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL&&webkitURL;function r(e,n){!e._objectURL||n&&n.noRevoke||(t.revokeObjectURL(e._objectURL),delete e._objectURL)}t.fetchBlob=function(e,t){t()},t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transform=function(e,t,n,r,o){n(e,o)},t.onerror=function(e,t,n,o,i){r(e,i),o&&o.call(e,t)},t.onload=function(e,n,o,i,c){r(e,c),i&&t.transform(e,c,i,o,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},t.createObjectURL=function(e){return!!n&&n.createObjectURL(e)},t.revokeObjectURL=function(e){return!!n&&n.revokeObjectURL(e)},t.readFile=function(t,n,r){if(e.FileReader){var o=new FileReader;if(o.onload=o.onerror=n,o[r=r||"readAsDataURL"])return o[r](t),o}return!1},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.loadImage=t}("undefined"!=typeof window&&window||this);