!function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";"undefined"!=typeof fetch&&"undefined"!=typeof Request?e.fetchBlob=function(t,n,o){e.hasMetaOption(o)?fetch(new Request(t,o)).then(function(e){return e.blob()}).then(n).catch(function(e){console.log(e),n()}):n()}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(e.fetchBlob=function(t,n,o){if(e.hasMetaOption(o)){o=o||{};var i=new XMLHttpRequest;i.open(o.method||"GET",t),o.headers&&Object.keys(o.headers).forEach(function(e){i.setRequestHeader(e,o.headers[e])}),i.withCredentials="include"===o.credentials,i.responseType="blob",i.onload=function(){n(i.response)},i.onerror=i.onabort=i.ontimeout=function(e){console.log(e),n()},i.send(o.body)}else n()})});