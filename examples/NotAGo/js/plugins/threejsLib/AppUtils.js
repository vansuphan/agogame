var AppUtils={normalizeRotation:function(e,r){return THREE.Math.degToRad(THREE.Math.radToDeg(e.rotation[r])%360)},disposeObject3D:function(e){var r;if(e.parent){for(r=e.parent.children.length-1;r>=0;r--)e.parent.children[r].traverse(a);AppUtils.clearThree(e.parent)}else{for(r=e.children.length-1;r>=0;r--)e.children[r].traverse(a);AppUtils.clearThree(e)}function a(e){e.isMesh&&AppUtils.disposeHierarchy(e,AppUtils.disposeNode)}e=null},disposeNode:function(e){e instanceof THREE.Mesh&&(e.geometry&&e.geometry.dispose(),e.material&&(e.material instanceof THREE.MeshFaceMaterial?$.each(e.material.materials,function(e,r){r.map&&r.map.dispose(),r.lightMap&&r.lightMap.dispose(),r.bumpMap&&r.bumpMap.dispose(),r.normalMap&&r.normalMap.dispose(),r.specularMap&&r.specularMap.dispose(),r.envMap&&r.envMap.dispose(),r.dispose()}):(e.material.map&&e.material.map.dispose(),e.material.lightMap&&e.material.lightMap.dispose(),e.material.bumpMap&&e.material.bumpMap.dispose(),e.material.normalMap&&e.material.normalMap.dispose(),e.material.specularMap&&e.material.specularMap.dispose(),e.material.envMap&&e.material.envMap.dispose(),e.material.dispose())))},disposeHierarchy:function(e,r){for(var a=e.children.length-1;a>=0;a--){var i=e.children[a];AppUtils.disposeHierarchy(i,r),r(i)}},clearThree:function(e){for(;e.children.length>0;)AppUtils.clearThree(e.children[0]),e.remove(e.children[0]);if(e.geometry&&(e.geometry.dispose(),e.geometry.vertices&&(e.geometry.vertices=[])),e.material)if(e.material.length>0)for(var r=0;r<e.material.length;r++)e.material[r].dispose();else e.material.dispose();e.texture&&e.texture.dispose(),e=null}};Object.assign(THREE.Object3D.prototype,{clearChild:function(){AppUtils.clearThree(this)},removeObjectByProperty:function(e,r,a){if((a=void 0!==a&&a)&&this[e]==r)return this.parent.remove(this),void AppUtils.clearThree(this);for(var i=this.children.length-1;i>=0;i--)this.children[i].removeObjectByProperty(e,r,!0)},removeObjectByName:function(e,r){r=void 0!==r&&r,this.removeObjectByProperty("name",e,r)},removeObjectById:function(e,r){r=void 0!==r&&r,this.removeObjectByProperty("id",e,r)}});