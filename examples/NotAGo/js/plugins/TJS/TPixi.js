!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o(t.TPixi=t.TPixi||{})}(this,function(t){"use strict";t.removeAllChild=function(t){for(var o=t.children.length-1;o>=0;o--){var e=t.children[o];t.removeChild(e)}},t.hideAllChild=function(t){for(var o=t.children.length-1;o>=0;o--)t.children[o].visible=!1},t.loadImage=function(t,o){var e=new PIXI.Loader;e.add(t),e.once("complete",o),e.load()},t.loadImages=function(t,o){for(var e=new PIXI.Loader,n=0;n<t.length;n++){var a=t[n];e.add(a)}e.once("complete",o),e.load()};var o=PIXI.utils.TextureCache;function e(t,e){var n=this;PIXI.Container.call(n),n.name=t;var a=(e=null!=e?e:{}).hasOwnProperty("anchor")?e.anchor:{x:0,y:0},i=e.hasOwnProperty("pivot")?e.pivot:{x:0,y:0},r=e.hasOwnProperty("rotation")?e.rotation:0,h=e.hasOwnProperty("x")?e.x:0,d=e.hasOwnProperty("y")?e.y:0,s=e.hasOwnProperty("fxloop")?e.fxloop:null,u=e.hasOwnProperty("duration")?e.duration:.5,l=e.hasOwnProperty("delay")?e.delay:0,y=o[t],p=n.sprite=new PIXI.Sprite(y);e.hasOwnProperty("anchor")&&(p.anchor=a),e.hasOwnProperty("pivot")&&(p.anchor={x:i.x/p.width,y:i.y/p.height}),p.rotation=TJS.Math.degToRad(r),n.x=h,n.y=d,n.fxLoopMoveY=function(){var t=e.hasOwnProperty("moveY")?e.moveY:10;u=e.hasOwnProperty("duration")?e.duration:1,TweenMax.to(p,u,{delay:Math.random()*u,y:p.y+t,ease:Sine.easeInOut,repeat:-1,yoyo:!0})},n.fxLoopMoveX=function(){var t=e.hasOwnProperty("moveX")?e.moveX:10;u=e.hasOwnProperty("duration")?e.duration:1,TweenMax.to(p,u,{delay:Math.random()*u,x:p.x+t,ease:Sine.easeInOut,repeat:-1,yoyo:!0})},n.fxLoopRotation360=function(){u=e.hasOwnProperty("duration")?e.duration:3,TweenMax.to(p,u,{delay:Math.random()*u,rotation:TJS.Math.degToRad(360),ease:Linear.easeNone,repeat:-1})},n.fxLoopRotation=function(){if(u=e.hasOwnProperty("duration")?e.duration:1,e.hasOwnProperty("rotLoop"))var t=TJS.Math.degToRad(e.rotLoop);else{t=TJS.Math.degToRad(-10);p.rotation=-t}TweenMax.to(p,u,{delay:Math.random()*u,rotation:p.rotation+t,ease:Sine.easeInOut,repeat:-1,yoyo:!0})},n.fxLoopScale=function(){u=e.hasOwnProperty("duration")?e.duration:1,TweenMax.to(p.scale,u,{delay:l,x:.9,y:.9,ease:Sine.easeInOut,repeat:-1,yoyo:!0})},null!=s&&("rotation360"==s?n.fxLoopRotation360():"rotation"==s?n.fxLoopRotation():"scale"==s?n.fxLoopScale():"moveX"==s?n.fxLoopMoveX():"moveY"==s&&n.fxLoopMoveY());var c=e.hasOwnProperty("onClick")?e.onClick:null;(null!=c||n.onClick)&&(n.interactive=n.buttonMode=!0,n.on("pointerdown",function(){c(),n.onClick&&n.onClick()}));var x=e.hasOwnProperty("onOver")?e.onOver:null;(null!=x||n.onOver)&&(n.interactive=n.buttonMode=!0,n.on("pointerover",function(){x(),n.onOver&&n.onOver()}));var g=e.hasOwnProperty("onOut")?e.onOut:null;(null!=g||n.onOut)&&(n.interactive=n.buttonMode=!0,n.on("pointerout",function(){g(),n.onOut&&n.onOut()})),n.addChild(p)}t.TeeContainer=e,e.prototype=Object.assign(Object.create(PIXI.Container.prototype),{}),t.ControlImageInMask=function(t){var o=(t=null!=t?t:{}).hasOwnProperty("container")?t.container:null,e=t.hasOwnProperty("mask")?t.mask:null;o.interactive=o.buttonMode=!0;var n={},a={};function i(){this.alpha=1,this.dragging=!1,this.data=null}o.on("pointerdown",function(t){this.data=t.data,this.alpha=.7,this.dragging=!0;var o=t.data.getLocalPosition(this.parent);n.x=o.x,n.y=o.y,a.x=this.x,a.y=this.y}).on("pointerup",i).on("pointerupoutside",i).on("pointermove",function(){if(this.dragging){var t=this.data.getLocalPosition(this.parent);if(this.getBounds().width>this.getBounds().height){var o=a.x+(t.x-n.x);o>e.x?o=e.x:o<e.x-(this.getBounds().width-e.width)&&(o=e.x-(this.getBounds().width-e.width)),this.x=o}else{var i=a.y+(t.y-n.y);i>e.y?i=e.y:i<e.y-(this.getBounds().height-e.height)&&(i=e.y-(this.getBounds().height-e.height)),this.y=i}}})},t.FixImageInMask=function(t){var o=(t=null!=t?t:{}).hasOwnProperty("container")?t.container:null,e=t.hasOwnProperty("sprite")?t.sprite:o.sprite,n=t.hasOwnProperty("containerRotation")?t.containerRotation:o.containerRotation,a=t.hasOwnProperty("mask")?t.mask:o.maskGraphicHidden;if(o.x=o.y=0,o.pivot={x:0,y:0},e.anchor={x:.5,y:.5},n.x=a.x+a.width/2,n.y=a.y+a.height/2,o.getBounds().width/o.getBounds().height<=a.width/a.height){n.width=a.width,n.scale.y=n.scale.x,o.pivot.y=o.getBounds().y,o.y=-o.getBounds().y-(o.getBounds().height-a.height)/2;var i=o.y;i>a.y?i=a.y:i<a.y-(o.getBounds().height-a.height)&&(i=a.y-(o.getBounds().height-a.height)),o.y=i}else{n.height=a.height,n.scale.x=n.scale.y,o.pivot.x=o.getBounds().x,o.x=-o.getBounds().x-(o.getBounds().width-a.width)/2;var r=o.x;r>a.x?r=a.x:r<a.x-(o.getBounds().width-a.width)&&(r=a.x-(o.getBounds().width-a.width)),o.x=r}o.mask=a},Object.defineProperty(t,"__esModule",{value:!0})});