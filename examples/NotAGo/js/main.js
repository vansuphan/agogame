var GLOBAL=this;"undefined"==typeof path_resource&&(path_resource=""),"undefined"==typeof basePath&&(basePath=""),"undefined"==typeof path_resource_domain&&(path_resource_domain=""),Object.defineProperties(GLOBAL,{isTestingLocal:{get:function(){return window.location.hostname.includes("localhost")||window.location.hostname.includes("192.168")||window.location.origin.includes("file")||window.location.href.includes("https://dev4.digitop.vn/demo")}}});var globalCssList=[path_resource+"css/main.css"+randomVersion()],globalJsList=[path_resource+"js/libraries/jquery.min.js",path_resource+"js/libraries/bundle.js",path_resource+"js/plugins/sweetalert2/sweetalert2.min.js",path_resource+"js/plugins/sweetalert2/sweetalert2.min.css",path_resource+"js/modules/common.js"],GLoader={version:"1.6",loadScript:function(e,t){e.isEmpty()&&t&&t();var n=!1,o=e.indexOf(".js")>-1?"js":"css",r={status:!1,message:""},i="js"==o?document.createElement("script"):document.createElement("link");function s(){n||(n=!0,r.status=!0,r.message="Script was loaded successfully",t&&t(r))}function a(){n||"complete"===i.readyState&&s()}function l(){n||(n=!0,r.status=!1,r.message="Failed to load script.",t&&t(r))}i.setAttribute("data-loader","GLoader"),"js"==o?(i.setAttribute("type","text/javascript"),isTestingLocal?i.setAttribute("src",e):function(){GLoader.loadFile(e,{onComplete:function(n){GLoader.embedScript(i,GLoader.getFileName(e),n),t&&t(r)},onError:l})}()):(i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e)),"js"==o?document.body.appendChild(i):(document.head.appendChild(i),i.onload=s,i.onreadystatechange=a,i.onerror=l),isTestingLocal&&(i.onload=s,i.onreadystatechange=a,i.onerror=l)},isExisted:function(e){var t=this.getFileName(e),n="js_"+t;if(0!=document.getElementsByName(n).length)return!0;for(var o=document.getElementsByTagName("script"),r=!1,i=0;i<o.length;i++)if(o[i].src){var s=o[i].src;this.getFileName(s).toLowerCase()==t.toLowerCase()&&(r=!0)}return r},embedScript:function(e,t,n){if(e.getAttribute("name").isEmpty()){e.setAttribute("name",name)}isTestingLocal||e.removeAttribute("name"),e.textContent=n},loadScripts:function(e,t){var n=(t=t||{}).onComplete||null,o=t.onProcess||null;if(0!=e.length)if(isTestingLocal){var r=0,i=e.length;GLoader.loadScript(e[r],function t(s){o&&o(r/i);r++;r==i?(s.status=!0,s.message="All scripts were loaded.",o&&o(1),n&&n(s)):GLoader.isExisted(e[r])?(console.log('[GLoader] The script "'+e[r]+'" was existed -> Skipped.'),t&&t()):GLoader.loadScript(e[r],t)})}else{e.filter(function(e){return e.indexOf(".css")>-1}).map(function(e){return GLoader.loadScript(e)});for(var s=[],a=[],l=0,u=0;u<e.length;u++){var c=e[u];if(!(c.indexOf(".js")<=-1)){var d="js_"+GLoader.getFileName(c);if(!GLoader.isExisted(GLoader.getFileName(c))){var h=document.createElement("script");h.setAttribute("name",d),h.setAttribute("data-loader","GLoader"),h.setAttribute("type","text/javascript"),document.body.appendChild(h),s.push(e[u]),a.push({id:l,url:c,name:d}),l++}}}var f=-1,p=[];this.loadMultiFile(s,{maxQueue:7,onProgress:function(e,t,n){var r=a.find(function(e){return e.url==t});r.data=n,p.push(r),p.find(function(e){return e.id==f+1})&&(p.sort(function(e,t){return e.id-t.id}),function(){for(var e=0;e<p.length;e++){var t=p[e];if(t.id!=f+1)return;f++,GLoader.embedScript(document.getElementsByName(t.name)[0],t.name,t.data),p.shift(),e--}}()),null!=o&&o(e)},onComplete:function(){n&&n()}})}else n&&n()},loadPhoto:function(e,t,n){var o=new Image;o.onload=function(){void 0!==n&&n(e)},o.onerror=function(){void 0!==n&&n(null)},o.src=e},loadPhotos:function(e,t,n){var o=e,r=0,i=o.length,s={status:!1,message:""},a=[],l=o[r];this.loadPhoto(l,t,function e(u){r++;r==i?(s.status=!0,s.message="All photos were loaded.",s.photos=a,n&&n(s)):(a.push(u),l=o[r],GLoader.loadPhoto(l,t,e))})},loadFile:function(e,t){var n=(t=null!=t?t:{}).hasOwnProperty("onProgress")?t.onProgress:null,o=t.hasOwnProperty("onComplete")?t.onComplete:null,r=t.hasOwnProperty("onError")?t.onError:null,i=t.hasOwnProperty("responseType")?t.responseType:"text",s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType=i,s.onprogress=function(e){var t=e.loaded/e.total;downloaded=e.loaded,null!=n&&n(t)},s.onreadystatechange=function(){s.readyState,s.readyState,s.readyState},s.onload=function(){s.readyState===s.DONE&&parseInt(s.status.toString())<400?null!=o&&o(s.response,e):null!=r&&r("Status error "+this.status,"",e)},s.onerror=function(e){console.log(e),null!=r&&r("Loading error")},s.send()},loadMultiFile:function(e,t){var n=(t=null!=t?t:{}).hasOwnProperty("onProgress")?t.onProgress:null,o=t.hasOwnProperty("onComplete")?t.onComplete:null,r=t.hasOwnProperty("onError")?t.onError:null,i=t.hasOwnProperty("maxQueue")?t.maxQueue:5,s=t.hasOwnProperty("responseType")?t.responseType:"text",a=0,l=0,u=0,c=0;if(0!=e.length&&null!=e||o(),e.length<i)for(let t=0;t<e.length;t++){var d=e[t];this.loadFile(d,{responseType:s,onError:p,onComplete:g})}else h();function h(){if(l<e.length&&a<i){a++;var t=e[l];l++,GLoader.loadFile(t,{responseType:s,onComplete:m,onError:p}),h()}}function f(t,o){var r=++u/e.length;n&&n(r,t,o)}function p(e,t,n){r&&r(e),void 0!==t&&m(t,n)}function g(t,n){c++,f(n,t),c>=e.length&&y()}function m(t,n){a--,f(n,t),l>=e.length&&0==a?y():h()}function y(){o&&o()}},getFileName:function(e){e.indexOf("?")>-1&&(e=e.substring(0,e.indexOf("?")));var t=e.indexOf("\\")>=0?e.lastIndexOf("\\"):e.lastIndexOf("/"),n=e.substring(t);return 0!==n.indexOf("\\")&&0!==n.indexOf("/")||(n=n.substring(1)),n}},MAIN={init:function(){var e=[];globalCssList.forEach(function(t){e.push(t)}),globalJsList.forEach(function(t){e.push(t)});var t=document.getElementsByTagName("main")[0];if(t){var n=t.getAttribute("id"),o=!1;GLoader.loadFile(path_resource+"js/pages/"+n+".js",{onComplete:function(){o=!0,r()},onError:function(){r()}})}else console.log("[MAIN] Thẻ <main> trong HTML của bạn đâu?");function r(){n||console.log("[MAIN] Thẻ <main> hình như chưa có 'id' kìa. Mà nếu không cần thì thôi cũng chả sao!"),o?e.push(path_resource+"js/pages/"+n+".js"+randomVersion()):console.log("Không tìm thấy "+n+".js"),GLoader.loadScripts(e,{onComplete:function(e){n?GLOBAL[n]&&void 0!==GLOBAL[n].init?GLOBAL[n].init():console.log("[MAIN] Không tìm thấy Class ["+n+"] nào để gọi init() cả."):console.log("[MAIN] Chả có Class JS (id) nào cho trang này để load cả.")}})}}};function randomVersion(){return isTestingLocal?"?v="+ +new Date+(9999*Math.random()<<0):""}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},writable:!0,configurable:!0}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var o=arguments[1],r=0;r<n;){var i=t[r];if(e.call(o,i,r,t))return i;r++}},configurable:!0,writable:!0}),Object.defineProperties(Object.prototype,{randomValue:{get:function(){return this[this.randomKey]}},randomKey:{get:function(){var e=Object.keys(this);return e[e.length*Math.random()<<0]}},randomElementIndex:{get:function(){return Object.keys(this).length*Math.random()<<0}},getObjectLength:{get:function(){return Object.keys(this)}}}),Object.defineProperties(Array.prototype,{first:{get:function(){return this[0]}},last:{get:function(){return this[this.length-1]}},randomIndex:{get:function(){return Math.floor(Math.random()*this.length)}},randomElement:{get:function(){return this[Math.floor(Math.random()*this.length)]}}}),Object.assign(Array.prototype,{getRandom:function(e){var t=new Array(e),n=this.length,o=new Array(n);if(e>n)throw new RangeError("getRandom: more elements taken than available");for(;e--;){var r=Math.floor(Math.random()*n);t[e]=this[r in o?o[r]:r],o[r]=--n in o?o[n]:n}return t},getHalfRandom:function(){var e=Math.ceil(this.length/2);return this.getRandom(e)},shuffle:function(){var e,t,n=this.length;if(0==n)return this;for(;--n;)e=Math.floor(Math.random()*(n+1)),t=this[n],this[n]=this[e],this[e]=t;return this},moveIndex:function(e,t){if(t>=this.length)for(var n=t-this.length+1;n--;)this.push(void 0);return this.splice(t,0,this.splice(e,1)[0]),this}}),Object.assign(String.prototype,{isEmpty:function(){return null===this||null!==this.match(/^ *$/)},random:function(e){return e=e||this.length,Math.floor(Math.random()*e)}}),MAIN.init();